(window.webpackJsonpbloggy=window.webpackJsonpbloggy||[]).push([[0],{21:function(n,t,e){n.exports={navlink:"Header_navlink__rLo-v",activeNav:"Header_activeNav__37oiy"}},57:function(n,t,e){n.exports={ldsHourglass:"Loader_ldsHourglass__Valj_"}},58:function(n,t,e){n.exports={navlink:"PostItem_navlink__2Jafm"}},62:function(n,t,e){n.exports=e(92)},92:function(n,t,e){"use strict";e.r(t);var a=e(0),r=e.n(a),o=e(17),i=e.n(o),c=e(13),p=e(12),u=e(16),l=e(23),s=e(24),d=e(26),x=e(25),f=e(27),m=e(3),b=e(4),g=e(21),h=e.n(g);function E(){var n=Object(m.a)(["\n  text-transform: uppercase;\n  font-weight: 300;\n"]);return E=function(){return n},n}function v(){var n=Object(m.a)(["\n  display: flex;\n  min-width: 300px;\n  list-style: none;\n  font-size: 24px;\n  justify-content: space-between;\n"]);return v=function(){return n},n}function O(){var n=Object(m.a)(["\n  display: flex;\n  flex-direction: row;\n"]);return O=function(){return n},n}function T(){var n=Object(m.a)(["\n  display: flex;\n  padding: 20px;\n  background-color: #a0c2ab;\n  color: #fff;\n  justify-content: space-around;\n  max-width: 100%;\n  box-shadow: 0px 1px 3px 0px rgba(0, 0, 0, 0.2),\n    0px 1px 1px 0px rgba(0, 0, 0, 0.14), 0px 2px 1px -1px rgba(0, 0, 0, 0.12);\n"]);return T=function(){return n},n}var y=b.a.header(T()),S=b.a.nav(O()),w=b.a.ul(v()),_=b.a.h1(E()),j=function(){return r.a.createElement(y,null,r.a.createElement(_,null," My blog app "),r.a.createElement(S,null,r.a.createElement(w,null,r.a.createElement("li",null,r.a.createElement(p.b,{exact:!0,to:"/",activeClassName:h.a.activeNav,className:h.a.navlink},"Main")),r.a.createElement("li",null,r.a.createElement(p.b,{to:"/posts",activeClassName:h.a.activeNav,className:h.a.navlink},"All posts")))))},P=e(34),C=e(54),A=e.n(C),N=e(10);e(40);function k(){var n=Object(m.a)(["\n  padding: 10px;\n  color: #fff;\n  background-color: #1e8a71;\n  width: 300px;\n  margin: 0 auto;\n  margin-top: 30px;\n  text-align: center;\n  font-weight: 300;\n  font-size: 20px;\n  text-transform: uppercase;\n  border: none;\n  border-radius: 10px;\n  box-shadow: 0px 1px 3px 0px rgba(0, 0, 0, 0.2),\n    0px 1px 1px 0px rgba(0, 0, 0, 0.14), 0px 2px 1px -1px rgba(0, 0, 0, 0.12);\n"]);return k=function(){return n},n}function R(){var n=Object(m.a)(["\n  width: 1000px;\n  height: 50px;\n  margin: 0 auto;\n  padding: 10px;\n  font-size: 20px;\n  border-radius: 10px;\n  height: 230px;\n  resize: none;\n  font-weight: 300;\n  outline: none;\n  margin-top: 20px;\n  box-shadow: 0px 1px 3px 0px rgba(0, 0, 0, 0.2),\n    0px 1px 1px 0px rgba(0, 0, 0, 0.14), 0px 2px 1px -1px rgba(0, 0, 0, 0.12);\n"]);return R=function(){return n},n}function L(){var n=Object(m.a)(["\n  width: 1000px;\n  height: 30px;\n  margin: 0 auto;\n  font-size: 22px;\n  border-radius: 10px;\n  margin-top: 20px;\n  font-weight: 300;\n  padding: 10px;\n  resize: none;\n  outline: none;\n"]);return L=function(){return n},n}function M(){var n=Object(m.a)(["\n  display: flex;\n  flex-direction: column;\n  padding: 16px;\n  width: 1100px;\n  height: 400px;\n  margin: 0 auto;\n  border-radius: 2px;\n  margin-top: 20px;\n  box-shadow: 0px 1px 3px 0px rgba(0, 0, 0, 0.2),\n    0px 1px 1px 0px rgba(0, 0, 0, 0.14), 0px 2px 1px -1px rgba(0, 0, 0, 0.12);\n"]);return M=function(){return n},n}var D=b.a.form(M()),I=b.a.textarea(L()),z=b.a.textarea(R()),G=b.a.button(k()),B=function(n){var t=n.createPost,e=Object(a.useState)(""),o=Object(P.a)(e,2),i=o[0],c=o[1],p=Object(a.useState)(""),u=Object(P.a)(p,2),l=u[0],s=u[1];return r.a.createElement(D,{onSubmit:function(n){if(n.preventDefault(),i&&l){var e={id:A()(),title:i,body:l};t(e),N.b.info('New post "'.concat(i,'" was successfully created!'),{position:N.b.POSITION.BOTTOM_CENTER}),c(""),s("")}else N.b.error("Please, fill all fields!",{position:N.b.POSITION.BOTTOM_CENTER})}},r.a.createElement(I,{type:"text",onChange:function(n){c(n.target.value)},value:i,placeholder:"Enter post title here..."}),r.a.createElement(z,{type:"text",onChange:function(n){s(n.target.value)},value:l,placeholder:"Enter text here..."}),r.a.createElement(G,{type:"submit"}," create post "),r.a.createElement(N.a,null))},H=e(9),U=e.n(H),J={CREATE_POST:"CREATE_POST",DELETE_POST:"DELETE_POST",UPDATE_POST:"UPDATE_POST",GET_ALL_POSTS:"GET_ALL_POSTS",POSTS_LOADING:"POSTS_LOADING",CREATE_COMMENT:"CREATE_COMMENT",GET_ALL_COMMENTS:"GET_ALL_COMMENTS",SET_ERROR:"SET_ERROR"},V=function(n){return{type:J.SET_ERROR,payload:{error:n}}},W=function(n){return function(t){U.a.post("https://bloggy-api.herokuapp.com/posts",n).then((function(n){t(function(n){return{type:J.CREATE_POST,payload:{post:n}}}(n.data))})).catch((function(n){t(V(n))}))}},q=Object(c.b)(null,(function(n){return{createPost:function(t){return n(W(t))}}}))(B),F=function(){return r.a.createElement("div",null,r.a.createElement(q,null))},K=e(57),Q=e.n(K),X=function(){return r.a.createElement("div",{className:Q.a.ldsHourglass}," ")},Y=e(58),Z=e.n(Y);function $(){var n=Object(m.a)(["\n  display: flex;\n  justify-content: space-around;\n"]);return $=function(){return n},n}function nn(){var n=Object(m.a)(["\n  border-radius: 2px;\n  border: none;\n  color: #fff;\n  cursor: pointer;\n  text-decoration: none;\n  width: 130px;\n  font-size: 17px;\n  height: 30px;\n  background: #92929c;\n"]);return nn=function(){return n},n}var tn=b.a.button(nn()),en=b.a.div($()),an=function(n){var t=n.id,e=n.title,a=n.text,o=n.onDelete;return r.a.createElement("div",null,r.a.createElement("h3",null," ",e," ")," ",r.a.createElement("p",null," ",a," "),r.a.createElement(en,null,r.a.createElement(tn,{type:"button",onClick:function(){}},r.a.createElement(p.b,{to:"/posts/".concat(t),className:Z.a.navlink},"Open")),r.a.createElement(tn,{type:"button",onClick:function(){o(t)}},"Delete")))};function rn(){var n=Object(m.a)(["\n  width: 400px;\n  word-wrap: break-word;\n  padding: 25px;\n  border-radius: 2px;\n  box-shadow: 0px 1px 3px 0px rgba(0, 0, 0, 0.2),\n    0px 1px 1px 0px rgba(0, 0, 0, 0.14), 0px 2px 1px -1px rgba(0, 0, 0, 0.12);\n"]);return rn=function(){return n},n}function on(){var n=Object(m.a)(["\n  margin: 0 auto;\n  margin-top: 30px;\n  max-width: 1400px;\n  text-align: center;\n  display: flex;\n  flex-direction: row;\n  flex-wrap: wrap;\n  list-style: none;\n  border-radius: 2px;\n"]);return on=function(){return n},n}var cn=b.a.ul(on()),pn=b.a.ul(rn()),un=function(n){var t=n.loading,e=n.posts,a=n.deletePost;return r.a.createElement("section",null,t&&r.a.createElement(X,null),e&&r.a.createElement(cn,null,e.map((function(n){return r.a.createElement(pn,{key:n.id},r.a.createElement(an,{id:n.id,title:n.title,text:n.body,onDelete:a}))}))))},ln=function(n){return function(t){U.a.delete("https://bloggy-api.herokuapp.com/posts/".concat(n)).then((function(){t(function(n){return{type:J.DELETE_POST,payload:{id:n}}}(n))})).catch((function(n){t(V(n))}))}},sn=Object(c.b)((function(n){return{posts:n.posts,comments:n.comments,loading:n.loading}}),(function(n){return{deletePost:function(t){return n(ln(t))}}}))(un),dn=e(19);function xn(){var n=Object(m.a)(["\n  padding: 7px;\n  color: #fff;\n  cursor: pointer;\n  background-color: #1e8a71;\n  width: 200px;\n  margin: 0 auto;\n  text-align: center;\n  font-weight: 300;\n  font-size: 16px;\n  text-transform: uppercase;\n  border: none;\n  border-radius: 10px;\n"]);return xn=function(){return n},n}function fn(){var n=Object(m.a)(["\n  height: 30px;\n  width: 700px;\n  padding: 3px;\n  border-radius: 10px;\n  font-size: 17px;\n"]);return fn=function(){return n},n}function mn(){var n=Object(m.a)(["\n  display: flex;\n  flex-direction: row;\n  margin: 0 auto;\n  width: 1000px;\n  margin-top: 20px;\n  border-radius: 2px;\n"]);return mn=function(){return n},n}function bn(){var n=Object(m.a)(["\n  padding: 5px;\n  box-shadow: 0px 1px 3px 0px rgba(0, 0, 0, 0.2),\n    0px 1px 1px 0px rgba(0, 0, 0, 0.14), 0px 2px 1px -1px rgba(0, 0, 0, 0.12);\n"]);return bn=function(){return n},n}function gn(){var n=Object(m.a)(["\n  text-align: center;\n  margin: 0 auto;\n  padding: 10px;\n  width: 1000px;\n  list-style: none;\n"]);return gn=function(){return n},n}function hn(){var n=Object(m.a)(["\n  color: #354854;\n  text-align: center;\n  margin: 0 auto;\n  width: 1100px;\n"]);return hn=function(){return n},n}function En(){var n=Object(m.a)(["\n  color: #354854;\n"]);return En=function(){return n},n}function vn(){var n=Object(m.a)(["\n  padding: 7px;\n  color: #fff;\n  background-color: #1e8a71;\n  width: 200px;\n  margin: 0 auto;\n  margin-top: 30px;\n  text-align: center;\n  font-weight: 300;\n  font-size: 16px;\n  text-transform: uppercase;\n  border: none;\n  border-radius: 10px;\n  box-shadow: 0px 1px 3px 0px rgba(0, 0, 0, 0.2),\n    0px 1px 1px 0px rgba(0, 0, 0, 0.14), 0px 2px 1px -1px rgba(0, 0, 0, 0.12);\n  :disabled {\n    color: #c6d3c6;\n    opacity: 0.4;\n    background: #92929c;\n  }\n"]);return vn=function(){return n},n}function On(){var n=Object(m.a)(["\n  width: 1000px;\n  height: 50px;\n  margin: 0 auto;\n  padding: 10px;\n  font-size: 20px;\n  border-radius: 10px;\n  height: 230px;\n  resize: none;\n  font-weight: 300;\n  outline: none;\n  border: 1px solid #354854;\n  margin-top: 20px;\n  box-shadow: 0px 1px 3px 0px rgba(0, 0, 0, 0.2),\n    0px 1px 1px 0px rgba(0, 0, 0, 0.14), 0px 2px 1px -1px rgba(0, 0, 0, 0.12);\n"]);return On=function(){return n},n}function Tn(){var n=Object(m.a)(["\n  width: 1000px;\n  height: 30px;\n  margin: 0 auto;\n  font-size: 22px;\n  border-radius: 10px;\n  border: 1px solid #354854;\n  margin-top: 20px;\n  font-weight: 300;\n  padding: 15px;\n  resize: none;\n  outline: none;\n"]);return Tn=function(){return n},n}function yn(){var n=Object(m.a)(["\n  display: flex;\n  flex-direction: column;\n  padding: 16px;\n  width: 1100px;\n  height: 300px;\n  margin: 0 auto;\n  border-radius: 2px;\n  margin-top: 20px;\n  box-shadow: 0px 1px 3px 0px rgba(0, 0, 0, 0.2),\n    0px 1px 1px 0px rgba(0, 0, 0, 0.14), 0px 2px 1px -1px rgba(0, 0, 0, 0.12);\n"]);return yn=function(){return n},n}var Sn=b.a.form(yn()),wn=b.a.input(Tn()),_n=b.a.textarea(On()),jn=b.a.button(vn()),Pn=b.a.h3(En()),Cn=b.a.div(hn()),An=b.a.ul(gn()),Nn=b.a.li(bn()),kn=b.a.form(mn()),Rn=b.a.input(fn()),Ln=b.a.button(xn()),Mn=function(n){function t(){var n;return Object(l.a)(this,t),(n=Object(d.a)(this,Object(x.a)(t).call(this))).handleTitleChange=function(t){n.setState({buttonSaveDisabled:!1,postTitle:t.target.value})},n.handleTextChange=function(t){n.setState({buttonSaveDisabled:!1,postText:t.target.value})},n.handleSaveEdition=function(t){var e=n.state,a=e.postTitle,r=e.postText,o=n.props.match;if(t.preventDefault(),a&&r){var i={id:o.params.id,title:a,body:r};n.props.updatePost(i),N.b.info('New post "'.concat(a,'" was successfully edited!'),{position:N.b.POSITION.BOTTOM_CENTER})}else N.b.error("Please, fill all fields!",{position:N.b.POSITION.BOTTOM_CENTER})},n.handleCommentTyping=function(t){n.setState({commentText:t.target.value})},n.addComment=function(){var t=n.state,e=t.commentText,a=t.commentsAboutPost,r=n.props,o=r.addComment,i={postId:r.match.params.id,body:e};o(i),n.setState({commentText:"",commentsAboutPost:[].concat(Object(dn.a)(a),[i])})},n.state={buttonSaveDisabled:!0,postTitle:"",postText:"",commentText:"",commentsAboutPost:!1},n}return Object(f.a)(t,n),Object(s.a)(t,[{key:"componentDidMount",value:function(){var n=this.props,t=n.posts,e=n.match,a=n.comments,r=t.find((function(n){return"string"===typeof n.id?n.id===e.params.id:n.id===Number(e.params.id)}));this.setState({postTitle:r&&r.title,postText:r&&r.body});var o=a.filter((function(n){return n.postId===e.params.id}));this.setState({commentsAboutPost:o})}},{key:"render",value:function(){var n=this.state,t=n.postText,e=n.postTitle,a=n.buttonSaveDisabled,o=n.commentText,i=n.commentsAboutPost,c=this.props.posts;return r.a.createElement("div",null,c&&r.a.createElement(Sn,null,r.a.createElement(wn,{type:"text",onChange:this.handleTitleChange,value:e}),r.a.createElement(_n,{type:"text",onChange:this.handleTextChange,value:t}),r.a.createElement(jn,{type:"button",onClick:this.handleSaveEdition,disabled:a},"Save changes")),r.a.createElement("section",null,i.length>0&&r.a.createElement(Cn,null,r.a.createElement(Pn,null," Comments: "),r.a.createElement(An,null,i.map((function(n){return r.a.createElement(Nn,{key:n.id},r.a.createElement("p",null," ",n.body," "))})))),r.a.createElement(kn,{onSubmit:this.addComment},r.a.createElement(Rn,{type:"text",onChange:this.handleCommentTyping,value:o,placeholder:"Enter your comment here"}),r.a.createElement(Ln,{type:"submit"},"Add comment"))),r.a.createElement(jn,null,r.a.createElement(p.b,{to:"/posts"}," Back to all posts ")),r.a.createElement(N.a,null))}}]),t}(a.Component),Dn=function(n){return function(t){U.a.put("https://bloggy-api.herokuapp.com/posts/".concat(n.id),n).then((function(){t(function(n){return{type:J.UPDATE_POST,payload:{updatedPost:n}}}(n))})).catch((function(n){t(V(n))}))}},In=function(n){return function(t){U.a.post("https://bloggy-api.herokuapp.com/comments",n).then((function(n){return t(function(n){return{type:J.CREATE_COMMENT,payload:{comment:n}}}(n.data))})).catch((function(n){return console.log(n)}))}},zn=Object(c.b)((function(n){return{posts:n.posts,comments:n.comments}}),(function(n){return{updatePost:function(t){return n(Dn(t))},addComment:function(t){return n(In(t))}}}))(Mn);function Gn(){var n=Object(m.a)(["\n  padding: 0;\n  margin: 0;\n  font-family: 'Raleway';\n"]);return Gn=function(){return n},n}var Bn=b.a.div(Gn()),Hn=function(n){function t(){return Object(l.a)(this,t),Object(d.a)(this,Object(x.a)(t).apply(this,arguments))}return Object(f.a)(t,n),Object(s.a)(t,[{key:"componentDidMount",value:function(){var n=this.props,t=n.getAllPosts,e=n.getAllComments;t(),e()}},{key:"render",value:function(){return r.a.createElement(Bn,null,r.a.createElement(j,null),r.a.createElement(u.d,null,r.a.createElement(u.b,{path:"/",exact:!0,component:F}),r.a.createElement(u.b,{path:"/posts/:id",exact:!0,component:zn}),r.a.createElement(u.b,{path:"/posts",component:sn}),r.a.createElement(u.a,{to:"/ "})))}}]),t}(a.Component),Un=function(){return function(n){n({type:J.POSTS_LOADING}),U.a.get("https://bloggy-api.herokuapp.com/posts").then((function(t){var e;n((e=t.data,{type:J.GET_ALL_POSTS,payload:{posts:e}}))})).catch((function(t){n(V(t))}))}},Jn=function(){return function(n){U.a.get("https://bloggy-api.herokuapp.com/comments").then((function(t){return n((e=t.data,{type:J.GET_ALL_COMMENTS,payload:{comments:e}}));var e}))}},Vn=Object(c.b)(null,(function(n){return{getAllPosts:function(t){return n(Un(t))},getAllComments:function(t){return n(Jn(t))}}}))(Hn),Wn=e(15),qn=e(59),Fn=function(n){var t=n.dispatch,e=n.getState;return function(n){return function(a){return"function"===typeof a?a(t,e):n(a)}}},Kn=[],Qn=function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Kn,t=arguments.length>1?arguments[1]:void 0,e=t.type,a=t.payload;switch(e){case J.GET_ALL_POSTS:return a.posts;case J.CREATE_POST:return[].concat(Object(dn.a)(n),[a.post]);case J.DELETE_POST:return n.filter((function(n){return n.id!==a.id}));case J.UPDATE_POST:return n.map((function(n){return n.id===a.updatedPost.id?a.updatedPost:n}));default:return n}},Xn=[],Yn=function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Xn,t=arguments.length>1?arguments[1]:void 0,e=t.type,a=t.payload;switch(e){case J.CREATE_COMMENT:return[].concat(Object(dn.a)(n),[a.comment]);case J.GET_ALL_COMMENTS:return a.comments;default:return n}},Zn=function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0,e=t.type,a=t.payload;switch(e){case J.SET_ERROR:return a.error;default:return n}},$n=function(){var n=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0,e=t.type;switch(e){case J.POSTS_LOADING:return!0;case J.GET_ALL_POSTS:case J.SET_ERROR:return!1;default:return n}},nt=Object(Wn.combineReducers)({posts:Qn,comments:Yn,error:Zn,loading:$n}),tt=Object(qn.composeWithDevTools)(Object(Wn.applyMiddleware)(Fn)),et=Object(Wn.createStore)(nt,tt);i.a.render(r.a.createElement(c.a,{store:et},r.a.createElement(p.a,{basename:"/"},r.a.createElement(u.b,{component:Vn}))),document.getElementById("root"))}},[[62,1,2]]]);
//# sourceMappingURL=main.bc4d624f.chunk.js.map